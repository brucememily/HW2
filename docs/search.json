[
  {
    "objectID": "ProgrammingBaseR.html",
    "href": "ProgrammingBaseR.html",
    "title": "Programming in Base R",
    "section": "",
    "text": "Task 1: Basic Vector Practice\nWe have data from a medical experiment on blood pressure among 20 individuals. We collected values prior to treatment and after treatment.\n\nPre_Treatment &lt;- c(130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135)\nnames(Pre_Treatment) &lt;- paste(\"Subject\", 1:20, sep = \"_\")\n\n\nPost_Treatment &lt;- c(114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113)\nnames(Post_Treatment)&lt;- paste(\"Subject\", 1:20, sep = \"_\")\n\nCalculate the change in blood pressure for each individual. What is the average change in blood pressure accross all 20 individuals?\n\nChange_in_BP &lt;- Pre_Treatment - Post_Treatment\nmean(Change_in_BP)\n\n[1] 17\n\n\nWhich individuals experienced a decrease in blood pressure?\n\nwhich(Change_in_BP&gt;0)\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n         1          2          3          4          5          6          7 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n         8         10         11         12         14         15         16 \nSubject_18 Subject_19 Subject_20 \n        18         19         20 \n\n\nSubset the vector of differences to return those only with a positive change.\n\nChange_in_BP[c(1:8,10:12,14:16,18:20)]\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n        16         30          3         25         26         18          5 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n        15         10         40         19         18         31         25 \nSubject_18 Subject_19 Subject_20 \n        26         22         22 \n\n\nCalculate the average decrease in blood pressure for those with a positive change.\n\nPositive_BP &lt;- Change_in_BP[c(1:8,10:12,14:16,18:20)]\nmean(Positive_BP)\n\n[1] 20.64706\n\n\n\n\nTask 2: Basic Data Frame Practice\nCreate a data frame corresponding to the above data.\n\nBP_Data_Frame &lt;- data.frame(Pre_Treatment,Post_Treatment,Change_in_BP)\nPositive_BP_Data_Frame &lt;- BP_Data_Frame[BP_Data_Frame$Change_in_BP &gt; 0 , ]\n\nAdd a new column to the data frame stating TRUE if the post treatment blood pressure is less than 120.\n\nPositive_BP_Data_Frame$Post_Treatment_Less_Than_120 &lt;- Positive_BP_Data_Frame$Post_Treatment &lt; 120\n\n\nknitr::kable(Positive_BP_Data_Frame)\n\n\n\n\n\n\n\n\n\n\n\n\nPre_Treatment\nPost_Treatment\nChange_in_BP\nPost_Treatment_Less_Than_120\n\n\n\n\nSubject_1\n130\n114\n16\nTRUE\n\n\nSubject_2\n128\n98\n30\nTRUE\n\n\nSubject_3\n116\n113\n3\nTRUE\n\n\nSubject_4\n124\n99\n25\nTRUE\n\n\nSubject_5\n133\n107\n26\nTRUE\n\n\nSubject_6\n134\n116\n18\nTRUE\n\n\nSubject_7\n118\n113\n5\nTRUE\n\n\nSubject_8\n126\n111\n15\nTRUE\n\n\nSubject_10\n127\n117\n10\nTRUE\n\n\nSubject_11\n141\n101\n40\nTRUE\n\n\nSubject_12\n138\n119\n19\nTRUE\n\n\nSubject_14\n140\n122\n18\nFALSE\n\n\nSubject_15\n137\n106\n31\nTRUE\n\n\nSubject_16\n131\n106\n25\nTRUE\n\n\nSubject_18\n128\n102\n26\nTRUE\n\n\nSubject_19\n139\n117\n22\nTRUE\n\n\nSubject_20\n135\n113\n22\nTRUE\n\n\n\n\n\n\n\nTask 3: List Practice\nWe now have data from another experiment where the treatment was actually a placebo. We have pre and post-treatment values for a different set of 10 individuals.\nCreate a new data frame with this data similar to above.\n\nPlacebo_Pre_Treatment &lt;- c(138,135,147,117,152,134,114,121,131,130)\n  names(Placebo_Pre_Treatment) &lt;- paste(\"Placebo\",1:10,sep = \"-\")\nPlacebo_Post_Treatment &lt;- c(105, 136, 123, 130, 134, 143, 135, 139, 120, 124)\n  names(Placebo_Post_Treatment) &lt;- paste(\"Placebo\",1:10,sep = \"-\")\nChange_in_Placebo &lt;- Placebo_Pre_Treatment - Placebo_Post_Treatment\n\nPlacebo_Data_Frame &lt;- data.frame(Placebo_Pre_Treatment,Placebo_Post_Treatment,Change_in_Placebo)\n\nPositive_Placebo_Data_Frame &lt;-     Placebo_Data_Frame[Placebo_Data_Frame$Change_in_Placebo &gt; 0 , ]\nPositive_Placebo_Data_Frame$Placebo_Post_Treatment_Less_Than_120 &lt;- Positive_Placebo_Data_Frame$Placebo_Post_Treatment &lt; 120\n\nknitr::kable(Positive_Placebo_Data_Frame)\n\n\n\n\n\n\n\n\n\n\n\n\nPlacebo_Pre_Treatment\nPlacebo_Post_Treatment\nChange_in_Placebo\nPlacebo_Post_Treatment_Less_Than_120\n\n\n\n\nPlacebo-1\n138\n105\n33\nTRUE\n\n\nPlacebo-3\n147\n123\n24\nFALSE\n\n\nPlacebo-5\n152\n134\n18\nFALSE\n\n\nPlacebo-9\n131\n120\n11\nFALSE\n\n\nPlacebo-10\n130\n124\n6\nFALSE\n\n\n\n\n\nCreate and store list with treatment and placebo data frames.\n\nBP_List &lt;- list(Positive_BP_Data_Frame, Positive_Placebo_Data_Frame)\n\nAccess the first list element using three different types of syntax.\n\n#First syntax\nBP_List[[1]]\n\n           Pre_Treatment Post_Treatment Change_in_BP\nSubject_1            130            114           16\nSubject_2            128             98           30\nSubject_3            116            113            3\nSubject_4            124             99           25\nSubject_5            133            107           26\nSubject_6            134            116           18\nSubject_7            118            113            5\nSubject_8            126            111           15\nSubject_10           127            117           10\nSubject_11           141            101           40\nSubject_12           138            119           19\nSubject_14           140            122           18\nSubject_15           137            106           31\nSubject_16           131            106           25\nSubject_18           128            102           26\nSubject_19           139            117           22\nSubject_20           135            113           22\n           Post_Treatment_Less_Than_120\nSubject_1                          TRUE\nSubject_2                          TRUE\nSubject_3                          TRUE\nSubject_4                          TRUE\nSubject_5                          TRUE\nSubject_6                          TRUE\nSubject_7                          TRUE\nSubject_8                          TRUE\nSubject_10                         TRUE\nSubject_11                         TRUE\nSubject_12                         TRUE\nSubject_14                        FALSE\nSubject_15                         TRUE\nSubject_16                         TRUE\nSubject_18                         TRUE\nSubject_19                         TRUE\nSubject_20                         TRUE\n\n#Second syntax\nBP_List[[1]][1:2]\n\n           Pre_Treatment Post_Treatment\nSubject_1            130            114\nSubject_2            128             98\nSubject_3            116            113\nSubject_4            124             99\nSubject_5            133            107\nSubject_6            134            116\nSubject_7            118            113\nSubject_8            126            111\nSubject_10           127            117\nSubject_11           141            101\nSubject_12           138            119\nSubject_14           140            122\nSubject_15           137            106\nSubject_16           131            106\nSubject_18           128            102\nSubject_19           139            117\nSubject_20           135            113\n\n#Third syntax\nstr(BP_List[1])\n\nList of 1\n $ :'data.frame':   17 obs. of  4 variables:\n  ..$ Pre_Treatment               : num [1:17] 130 128 116 124 133 134 118 126 127 141 ...\n  ..$ Post_Treatment              : num [1:17] 114 98 113 99 107 116 113 111 117 101 ...\n  ..$ Change_in_BP                : num [1:17] 16 30 3 25 26 18 5 15 10 40 ...\n  ..$ Post_Treatment_Less_Than_120: logi [1:17] TRUE TRUE TRUE TRUE TRUE TRUE ...\n\n\nAccess placebo data frame, pre_bp column\n\nBP_List[[2]]$Placebo_Pre_Treatment\n\n[1] 138 147 152 131 130\n\n\n\n\nTask 4: Control Flow Practice\nWe want to characterize the post-treatment blood pressure as optimal (&lt;= 120), borderline (120 &lt; bp &lt;= 130), and high (&gt; 130).\n\nPlacebo_Data_Frame$Optimal &lt;- character(10)\nPlacebo_Data_Frame$Borderline &lt;- character(10)\nPlacebo_Data_Frame$High &lt;- character(10)\n\nfor(i in seq_along(BP_List$Positive_Placebo_Data_Frame$Post_Treatment)) {\n  if(BP_List$Positive_Placebo_Data_Frame$Post_Treatment[i] &lt;= 120) {\n    BP_List$Positive_Placebo_Data_Frame$Status[i] &lt;- \"Optimal\"\n  } else if (BP_List$Positive_Placebo_Data_Frame$Post_Treatment[i] &lt;= 130) {\n    BP_List$Positive_Placebo_Data_Frame$Status[i] &lt;- \"Borderline\"\n  } else {\n    BP_List$Positive_Placebo_Data_Frame$Status[i] &lt;- \"High\"\n  }\n}\n\nfor(i in seq_along(BP_List$Positive_BP_Data_Frame$Post_Treatment)) {\n  if(BP_List$Positive_BP_Data_Frame$Post_Treatment[i] &lt;= 120) {\n    BP_List$Positive_BP_Data_Frame$Status[i] &lt;- \"Optimal\"\n  } else if (BP_List$Positive_BP_Data_Frame$Post_Treatment[i] &lt;= 130) {\n    BP_List$Positive_BP_Data_Frame$Status[i] &lt;- \"Borderline\"\n  } else {\n    BP_List$Positive_BP_Data_Frame$Status[i] &lt;- \"High\"\n  }\n}\n\n\n\nTask 5: Function Writing\nWrite the function:\n\nBP_Function &lt;- function(BP_List, stat, i) {\n  #only want the first three columns\n  df &lt;- BP_List[[i]][1:3]\n  #calculate the stat for each column\n  stat_values &lt;- sapply(df, stat)\n  #create names dynamically based on stat passed\n  stat_names &lt;- paste(stat, names(df), sep = \"_\")\n  #assign names to the vector\n  names(stat_values) &lt;- stat_names\n  #return vector with names\n  return(stat_values)\n}\n\nApply the function:\n\nresult_1 &lt;- BP_Function(BP_List, \"mean\", 1)\nresult_2 &lt;- BP_Function(BP_List, \"mean\", 2)\n#print results\nresult_1\n\n mean_Pre_Treatment mean_Post_Treatment   mean_Change_in_BP \n          130.88235           110.23529            20.64706 \n\nresult_2\n\n mean_Placebo_Pre_Treatment mean_Placebo_Post_Treatment \n                      139.6                       121.2 \n     mean_Change_in_Placebo \n                       18.4 \n\n\n\n#Treatment data frame\nBP_Function(BP_List, \"var\", 1)\n\n var_Pre_Treatment var_Post_Treatment   var_Change_in_BP \n          53.86029           53.31618           87.99265 \n\nBP_Function(BP_List, \"sd\", 1)\n\n sd_Pre_Treatment sd_Post_Treatment   sd_Change_in_BP \n         7.338957          7.301793          9.380440 \n\nBP_Function(BP_List, \"min\", 1)\n\n min_Pre_Treatment min_Post_Treatment   min_Change_in_BP \n               116                 98                  3 \n\nBP_Function(BP_List, \"max\", 1)\n\n max_Pre_Treatment max_Post_Treatment   max_Change_in_BP \n               141                122                 40 \n\n#Placebo data frame\nBP_Function(BP_List, \"var\", 2)\n\n var_Placebo_Pre_Treatment var_Placebo_Post_Treatment \n                      94.3                      109.7 \n     var_Change_in_Placebo \n                     113.3 \n\nBP_Function(BP_List, \"sd\", 2)\n\n sd_Placebo_Pre_Treatment sd_Placebo_Post_Treatment      sd_Change_in_Placebo \n                 9.710819                 10.473777                 10.644247 \n\nBP_Function(BP_List, \"min\", 2)\n\n min_Placebo_Pre_Treatment min_Placebo_Post_Treatment \n                       130                        105 \n     min_Change_in_Placebo \n                         6 \n\nBP_Function(BP_List, \"max\", 2)\n\n max_Placebo_Pre_Treatment max_Placebo_Post_Treatment \n                       152                        134 \n     max_Change_in_Placebo \n                        33"
  }
]